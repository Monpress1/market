<%- include('../partials/header'); -%>
<%- include('../partials/navbar'); -%>
<%- include('../partials/sidebar'); -%>

<!-- Main section -->
<main class="mt-5 pt-3">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 fw-bold fs-3">
        View Order
      </div>
      <div class="col-md-12 fw-bold fs-3">
        <a class="btn btn-outline-primary" href="/seller/order">View all Order</a>

        <form style="display: inline;" action="/seller/order/mark/<%= orders.orderId %>" method="post">
          <select class="form-control" name="status" id="status">
            <option value="order_placed">order_placed</option>
            <option value="order_confirmed">order_confirmed</option>
            <option value="order_picked">order_picked</option>
            <option value="order_on_way">order_on_way</option>
            <option value="order_delivered">order_delivered</option>
            <option value="order_returned">order_returned</option>
            <option value="order_cancelled">order_cancelled</option>
            <option value="order_paused">order_paused</option>
          </select>
          <button class="btn btn-outline-primary" type="submit">Mark Order</button>
        </form>

        <script>
          // script for select dropdown menu from database selected value
          var statusValue = "<%= orders.status %>";
          var statusEl = document.getElementById("status");
          for (const key in statusEl.options) {
            if (Object.hasOwnProperty.call(statusEl.options, key)) {
              const element = statusEl.options[key];
              if (statusValue == element.value) {
                element.selected = true;
              }
            }
          }
        </script>

      </div>
      <div class="col-md-12 fw-bold fs-3">




      </div>
    </div>
    <div class="row">
      <div class="row justify-content-md-center">
        <table class="table table-striped table-hover">
          <tr>
            <th>
              Product Name
            </th>
            <th>
              Price
            </th>
            <th>Quantity</th>
          </tr>
          <% for(let order of orders.SubOrderItem) { %>

          <tr>
            <td>
              <%= order.product.name %>
            </td>
            <td>
              <%= order.price %>
            </td>
            <td>
              <%= order.quantity %>
            </td>
          </tr>
          <% } %>
        </table>

      </div>
    </div>

  </div>
  </div>
</main>
<!-- End Main section -->

<%- include('../partials/footer'); -%>